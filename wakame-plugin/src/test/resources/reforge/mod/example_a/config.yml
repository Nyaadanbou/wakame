# 主要的基础菜单设置
primary_menu_settings:
  title: "定制工作台: example_a"
  # .: 背景
  # #: 背景2
  # i: 装备输入
  # o: 装备输出
  # x: 子菜单
  # <: 上一页
  # >: 下一页
  structure:
    - ". . . x x x . . ."
    - ". . . x x x . . ."
    - ". i . x x x . o ."
    - ". . . x x x . . ."
    - ". . . x x x . . ."
    - "# # # < # > # # #"
  icons:
    background: "internal:menu/common/background"
    prev_page: "internal:menu/common/prev_page"
    next_page: "internal:menu/common/next_page"
    background2: "internal:menu/modding/background2"
    input_slot: "internal:menu/modding/input_slot"
    input_slot_empty: "internal:menu/modding/input_slot_empty"
    output_slot: "internal:menu/modding/output_slot"
    output_slot_empty: "internal:menu/modding/output_slot_empty"
    output_slot_insufficient_resource: "internal:menu/modding/output_slot_insufficient_resource"

# 核孔的基础菜单设置
replace_menu_settings:
  title: "DO_NOT_USE"
  # a: 核心
  # b: 输入
  # *: 兼容性检查
  structure: ["a * b"]
  icons:
    compatibility_view: "internal:menu/modding/compatibility_view"
    core_view: "internal:menu/modding/core_view"
    core_unusable: "internal:menu/modding/core_unusable"
    core_usable: "internal:menu/modding/core_usable"

# 物品的重铸次数的计算方式
# 可用的计算方式:
# - PLUS_ONE: 每次重铸物品固定增加 1 重铸次数
# - CORE_SUM: 每次重铸物品动态增加 ∑(参与定制的核心的重铸次数) + 1
reforge_count_add_method: PLUS_ONE

# 稀有度->数值的映射表.
# 可用于所有的自定义函数.
rarity_number_mapping:
  common: 1.0
  uncommon: 1.5
  rare: 2.0
  epic: 2.5
  ancient: 3.0

# 在这里设置完成定制操作所需要消耗的货币资源.
# 如果玩家没有足够的货币资源, 合并将算作失败.
#
# 计算函数, 用于计算完成整个物品定制的总花费.
#
# 可用参数:
# query.source_item_rarity()
#   被定制物品的稀有度所映射的数值
# query.source_item_level()
#   被定制物品的等级
# query.source_item_total_cell_count()
#   被定制物品的核孔的数量
# query.source_item_changeable_cell_count()
#   被定制物品上可以被定制的核孔的数量
# query.source_item_changed_cell_count()
#   被定制物品上参与了定制的核孔的数量
# query.source_item_changed_cell_cost()
#   被定制物品上参与了定制的核孔的总花费
currency_cost: 200.0 * query.source_item_rarity()
  + 100.0 * query.source_item_changed_cell_count() 
  + query.source_item_changed_cell_cost()
