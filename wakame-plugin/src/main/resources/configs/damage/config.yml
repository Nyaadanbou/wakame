# ä¸è¦ä¿®æ”¹!
version: 1

# ç©å®¶ç©ºæ‰‹æ”»å‡»(æ‰‹æŒé Weapon ç‰©å“æ—¶å·¦é”®)çš„å†·å´.
# å•ä½ tick.
player_intrinsic_attack_cooldown: 5

# ä¼¤å®³è§„åˆ™ç›¸å…³.
rules:

  # å¯¹äºæŸä¸€å…ƒç´ ç±»å‹, å…¶ä¼¤å®³è®¡ç®—æ—¶, æœ€ç»ˆæ˜¯å¦å››èˆäº”å…¥åˆ°æ•´æ•°ä½.
  rounding_damage: true

  # å¯¹äºæŸä¸€å…ƒç´ ç±»å‹, å…¶æœ€å°ä¼¤å®³.
  least_damage: 1.0

  # å¯¹äºæŸä¸€å…ƒç´ ç±»å‹, è®¡ç®—å…¶æœ‰æ•ˆé˜²å¾¡çš„å…¬å¼.
  #
  # å¯ç”¨å‚æ•°:
  # è¯·æ³¨æ„: ä¸‹åˆ—å„å±æ€§å‡ä¸º(æœ¬å…ƒç´ +é€šç”¨å…ƒç´ ), ä¸ä¼šå°äº0(å±æ€§å€¼ä¸ºè´Ÿæ—¶ä¼šè¢«ç½®é›¶)
  # q.defense
  #   å—ä¼¤è€…è¯¥å…ƒç´ çš„é˜²å¾¡åŠ›å±æ€§å€¼
  # q.defense_penetration
  #   ä¼¤å®³å…ƒæ•°æ®ä¸­è¯¥å…ƒç´ çš„é˜²å¾¡ç©¿é€
  # q.defense_penetration_rate
  #   ä¼¤å®³å…ƒæ•°æ®ä¸­è¯¥å…ƒç´ çš„é˜²å¾¡ç©¿é€ç‡
  valid_defense_formula: "math.max(q.defense - q.defense_penetration, 0.0) * (1.0 - q.defense_penetration_rate)"

  # å¯¹äºæŸä¸€å…ƒç´ ç±»å‹, è®¡ç®—å…¶é˜²å¾¡åä¼¤å®³çš„å…¬å¼.
  #
  # å¯ç”¨å‚æ•°:
  # q.original_damage
  #   åŸå§‹ä¼¤å®³
  # q.valid_defense
  #   å—ä¼¤è€…è¯¥å…ƒç´ çš„æœ‰æ•ˆé˜²å¾¡
  damage_after_defense_formula: "math.max(q.original_damage * (1.0 - (q.valid_defense / (q.original_damage + q.valid_defense))), 0.0)"

  # è®¡ç®—æ‹‰å¼“åŠ›åº¦çš„å…¬å¼.
  #
  # å¯ç”¨å‚æ•°:
  # q.use_ticks
  #   ç©å®¶æ‹‰å¼“é‡Šæ”¾æ—¶, ç´¯è®¡é•¿æŒ‰ä½¿ç”¨çš„æ—¶é—´, å•ä½ tick
  bow_force_formula: "math.clamp((q.use_ticks * q.use_ticks / 400.0 + q.use_ticks / 10.0) / 3.0, 0.0, 1.0)"

# ä¼¤å®³æ˜¾ç¤ºç›¸å…³.
display:

  # ä¼¤å®³æ•°å€¼ä»¥ä½•ç§æ¨¡å¼æ˜¾ç¤º.
  # å¯ç”¨é€‰é¡¹: merged, separated
  mode: merged

  # æ¨¡å¼: separated
  # æ¯ç§å…ƒç´ çš„ä¼¤å®³å•ç‹¬æ˜¾ç¤º.
  separated:

    # æ–‡æœ¬å±•ç¤ºå®ä½“çš„å˜æ¢åŠ¨ç”».
    # åˆ—è¡¨çš„å…ƒç´ ä¸ºå•ä¸ªå˜æ¢.
    # å°†æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ.
    animations:

      - # è¯¥åŠ¨ç”»å¼€å§‹æ’­æ”¾å‰å»¶è¿Ÿçš„ tick æ•°.
        delay: 0
        # å¸¸è§„çŠ¶å†µä¸‹è¯¥æ¬¡åŠ¨ç”»çš„å‚æ•°.
        # å¸¸è§„åŠ¨ç”»ä¸­çš„å‚æ•°æœªæŒ‡å®šæ—¶, å°†ç»§æ‰¿é»˜è®¤åŠ¨ç”»çš„å‚æ•°.
        # default:
        #   start_interpolation: 0
        #   interpolation_duration: 0
        #   translation: [ .0, .0, .0 ]
        #   scale: [ 1.0, 1.0, 1.0 ]
        normal:
          translation: [ .0, -1.0, .0 ]
          scale: [ 1.5, 1.5, 1.5 ]
        # æ­£æš´å‡»æ—¶è¯¥æ¬¡åŠ¨ç”»çš„å‚æ•°.
        # æš´å‡»åŠ¨ç”»çš„å‚æ•°æœªæŒ‡å®šæ—¶, å°†ç»§æ‰¿å¸¸è§„åŠ¨ç”»å‚æ•°.
        positive_critical_strike: {}
        # è´Ÿæš´å‡»æ—¶è¯¥æ¬¡åŠ¨ç”»çš„å‚æ•°.
        negative_critical_strike: {}

      - delay: 2
        normal:
          interpolation_duration: 5
          translation: [ .0, -0.5, .0 ]
          scale: [ 2.5, 2.5, 2.5 ]
        positive_critical_strike:
          scale: [ 4.5, 4.5, 4.5 ]
        negative_critical_strike:
          scale: [ 4.5, 4.5, 4.5 ]

      - delay: 8
        normal:
          interpolation_duration: 20
          translation: [ .0, 0.5, .0 ]
          scale: [ 1.0, 1.0, 1.0 ]

    # åŠ¨ç”»æŒç»­çš„æ€» tick æ•°
    # å³è¯¥æ—¶é•¿åä¼¤å®³æ˜¾ç¤ºæ–‡æœ¬ä¸å†æ˜¾ç¤º
    animation_duration: 32

    # ä¼¤å®³æ˜¾ç¤ºæ€»æ–‡æœ¬.
    final_text: <critical_strike_style><critical_strike_text><damage_value_text>

    # æš´å‡»çŠ¶æ€é£æ ¼.
    critical_strike_style:
      positive: <bold>
      negative: <bold>
      none: ""

    # æš´å‡»çŠ¶æ€æ–‡æœ¬.
    critical_strike_text:
      positive: <color:#FF9900>ğŸ’¥</color:#FF9900>
      negative: <color:#02AFFF>ğŸ’¥</color:#02AFFF>
      none: ""

    # å…ƒç´ æ–‡æœ¬.
    # æ”¯æŒå ä½ç¬¦:
    # - <element_name> å…ƒç´ å
    # - <element_style> å…ƒç´ é£æ ¼
    # - <damage_value> è¯¥å…ƒç´ ç±»å‹å…·ä½“ä¼¤å®³å€¼
    damage_value_text: "<element_style><damage_value:0>"

    # å„å…ƒç´ ç±»å‹çš„ä¼¤å®³æ–‡æœ¬ä¹‹é—´çš„åˆ†éš”å­—ç¬¦ä¸².
    separator: " "

  # æ¨¡å¼: merged
  # åªæ˜¾ç¤ºæ‰€æœ‰å…ƒç´ çš„ä¼¤å®³ä¹‹å’Œ.
  merged:

    animations:

      - delay: 0
        normal:
          translation: [ .0, -0.4, .0 ]
          scale: [ 1.5, 1.5, 1.5 ]

      - delay: 2
        normal:
          interpolation_duration: 4
          translation: [ .0, -0.1, .0 ]
          scale: [ 1.5, 1.5, 1.5 ]

      - delay: 6
        normal:
          interpolation_duration: 3
          translation: [ .0, .0, .0 ]
          scale: [ 1.5, 1.5, 1.5 ]

      - delay: 9
        normal:
          interpolation_duration: 4
          translation: [ .0, .2, .0 ]
          scale: [ .8, .8, .8 ]
    animation_duration: 14
    final_text: <critical_strike_style><critical_strike_text><damage_value_text>

    critical_strike_style:
      positive: <bold>
      negative: <bold>
      none: ""

    critical_strike_text:
      positive: <color:#FF9900>ğŸ’¥</color:#FF9900>
      negative: <color:#02AFFF>ğŸ’¥</color:#02AFFF>
      none: ""

    # å…ƒç´ æ–‡æœ¬.
    # æ”¯æŒå ä½ç¬¦:
    # - <element_name> ä¼¤å®³å æ¯”æœ€é«˜çš„å…ƒç´ ç±»å‹çš„å…ƒç´ å.
    # - <element_style> ä¼¤å®³å æ¯”æœ€é«˜çš„å…ƒç´ ç±»å‹çš„é£æ ¼.
    # - <damage_value> æ€»ä¼¤å®³å€¼.
    damage_value_text: "<element_style><damage_value:0>"
