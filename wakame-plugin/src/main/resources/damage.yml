# 伤害系统

# 对原版伤害类型的映射
damage_type_mappings:
  arrow:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  bad_respawn_point:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  cactus:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  campfire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  cramming:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  dragon_breath:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  drown:
    element: water
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  dry_out:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  #  ender_pearl:
  #    element: neutral
  #    defense_penetration: 0.0
  #    defense_penetration_rate: 1.0
  explosion:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_anvil:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_block:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_stalactite:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  fireball:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fireworks:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fly_into_wall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  freeze:
    element: water
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  generic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  generic_kill:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  hot_floor:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  in_fire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  in_wall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  indirect_magic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  lava:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  lightning_bolt:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  magic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  #  mace_smash:
  #    element: neutral
  #    defense_penetration: 0.0
  #    defense_penetration_rate: 0.0
  mob_attack:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  mob_attack_no_aggro:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  mob_projectile:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  on_fire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  out_of_world:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  outside_border:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  player_attack:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  player_explosion:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  sonic_boom:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  spit:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  stalagmite:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  starve:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  sting:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  sweet_berry_bush:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  thorns:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  thrown:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  trident:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  unattributed_fireball:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wind_charge:
    element: wind
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wither:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wither_skull:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0

# 对原版生物攻击的映射
entity_attack_mappings:
  axolotl:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          water:
            min: 3.0
            max: 3.0
            rate: 1.0
            defense_penetration: 0.0
            defense_penetration_rate: 0.0
        critical_strike_metadata:
          chance: 0.0
          positive_power: 1.0
          negative_power: 1.0
          none_power: 1.0
        damage_tags: []
  bee:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  blaze:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          fire:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    small_fireball:
      type: projectile
      projectile: small_fireball
      damage_metadata:
        damage_bundle:
          fire:
            min: 5.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  bogged:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  breeze:
    wind_charge:
      type: projectile
      projectile: breeze_wind_charge
      damage_metadata:
        damage_bundle:
          wind:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  cat:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  cave_spider:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  creeper:
    self_explode:
      type: self_explode
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
      damage_tags: []
  dolphin:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  drowned:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          water:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    trident:
      type: projectile
      projectile: trident
      damage_metadata:
        damage_bundle:
          water:
            min: 12
            max: 12
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  elder_guardian:
    laser:
      type: damage_type
      damage_type: indirect_magic
      damage_metadata:
        damage_bundle:
        water:
          min: 12.0
          max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    spikes:
      type: damage_type
      damage_type: thorns
      damage_metadata:
        damage_bundle:
        water:
          min: 3.0
          max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  # 末影龙数据与原版有些不一致
  ender_dragon:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 7.0
            max: 15.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    magic:
      type: damage_type
      damage_type: indirect_magic
      damage_metadata:
        damage_bundle:
        water:
          min: 3.0
          max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  enderman:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 10.5
            max: 10.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  endermite:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  evoker:
    fang:
      type: damage_type
      damage_type: indirect_magic
      damage_metadata:
        damage_bundle:
          neutral:
            min: 9
            max: 9
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  fox:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  frog:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 10.0
            max: 10.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  ghast:
    fireball:
      type: projectile
      projectile: fireball
      damage_metadata:
        damage_bundle:
          fire:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    #TODO 火球爆炸
  giant:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 75.0
            max: 75.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  goat:
    melee:
      type: melee_age
      baby: false
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_baby:
      type: melee_age
      baby: true
      damage_metadata:
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  guardian:
    laser:
      type: damage_type
      damage_type: indirect_magic
      damage_metadata:
        damage_bundle:
        water:
          min: 9.0
          max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    spikes:
      type: damage_type
      damage_type: thorns
      damage_metadata:
        damage_bundle:
        water:
          min: 3.0
          max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  hoglin:
    melee:
      type: melee_age
      baby: false
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_baby:
      type: melee_age
      baby: true
      damage_metadata:
        damage_bundle:
          neutral:
            min: 0.75
            max: 0.75
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  husk:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  illusioner:
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  iron_golem:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 11.25
            max: 32.25
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  llama:
    spit:
      type: projectile
      projectile: llama_spit
      damage_metadata:
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  magma_cube:
    melee_size_0:
      type: melee_size
      size: 0
      damage_metadata:
        damage_bundle:
          fire:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_size_1:
      type: melee_size
      size: 1
      damage_metadata:
        damage_bundle:
          fire:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_size_3:
      type: melee_size
      size: 3
      damage_metadata:
        damage_bundle:
          fire:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  ocelot:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  panda:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  phantom:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  piglin:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 7.5
            max: 7.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  piglin_brute:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 19.5
            max: 19.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  pillager:
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 5.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  polar_bear:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  pufferfish:
    #TODO 半膨胀是3，全膨胀4.5
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          water:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  rabbit:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  # 劫掠兽无法区分普通近战和吼叫
  ravager:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 18.0
            max: 18.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  shulker:
    shulker_bullet:
      type: projectile
      projectile: shulker_bullet
      damage_metadata:
        damage_bundle:
          neutral:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  silverfish:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          earth:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  skeleton:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  slime:
    melee_size_1:
      type: melee_size
      size: 1
      damage_metadata:
        damage_bundle:
          water:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_size_3:
      type: melee_size
      size: 3
      damage_metadata:
        damage_bundle:
          water:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  snow_golem:
    #TODO 3 to blaze
    snowball:
      type: projectile
      projectile: snowball
      damage_metadata:
        damage_bundle:
          water:
            min: 0.0
            max: 0.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  spider:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  stray:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    arrow:
      type: projectile
      projectile: arrow
      damage_metadata:
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  trader_llama:
    spit:
      type: projectile
      projectile: llama_spit
      damage_metadata:
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  vex:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 13.5
            max: 13.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  vindicator:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 19.5
            max: 19.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  warden:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 45.0
            max: 45.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    sonic_boom:
      type: damage_type
      damage_type: sonic_boom
      damage_metadata:
        damage_bundle:
        neutral:
          min: 15.0
          max: 15.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  witch:
    magic:
      type: damage_type
      damage_type: indirect_magic
      damage_metadata:
        damage_bundle:
        neutral:
          min: 6.0
          max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  wither:
    wither_skull:
      type: projectile
      projectile: wither_skull
      damage_metadata:
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    #TODO 凋灵头爆炸
    self_explode:
      type: self_explode
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
      damage_tags: []
  wither_skeleton:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  wolf:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  zoglin:
    melee:
      type: melee_age
      baby: false
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
    melee_baby:
      type: melee_age
      baby: true
      damage_metadata:
        damage_bundle:
          neutral:
            min: 0.75
            max: 0.75
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  zombie:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  zombified_piglin:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []
  zombie_villager:
    melee:
      type: melee
      damage_metadata:
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
        damage_tags: []

# 默认弹射物伤害映射
# 当弹射物没有来源实体, 或伤害只与类型有关时使用
projectile_type_mappings:
  arrow:
    element: neutral
    value: 1.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  trident:
    element: neutral
    value: 8.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  egg:
    element: neutral
    value: 0.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  ender_pearl:
    element: neutral
    value: 0.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fireball:
    element: fire
    value: 6.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  llama_spit:
    element: neutral
    value: 1.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  shulker_bullet:
    element: neutral
    value: 4.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  small_fireball:
    element: fire
    value: 5.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  snowball:
    element: neutral
    value: 0.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wind_charge:
    element: wind
    value: 1.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  breeze_wind_charge:
    element: wind
    value: 1.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wither_skull:
    element: neutral
    value: 8.0
    defense_penetration: 0.0
    defense_penetration_rate: 0.0

# TODO 潮涌核心

# TODO 水瓶(玩家、发射器)

# TODO 烟花火箭(玩家、村民、发射器)

# TODO 爆炸:
# TODO 恶魂通过火球造成爆炸伤害
# TODO 凋灵通过头颅造成爆炸伤害
# TODO tnt/水晶的爆炸伤害可以是任意来源

# 玩家可造成间接魔法伤害, 爆炸伤害

# 玩家喂鹦鹉曲奇, 只会造成1伤害