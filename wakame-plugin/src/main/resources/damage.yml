# 伤害系统

# 对原版伤害类型的映射
damage_type_mappings:
  arrow:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  bad_respawn_point:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  cactus:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  campfire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  cramming:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  dragon_breath:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  drown:
    element: water
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  dry_out:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  #  ender_pearl:
  #    element: neutral
  #    defense_penetration: 0.0
  #    defense_penetration_rate: 1.0
  explosion:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_anvil:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_block:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  falling_stalactite:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  fireball:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fireworks:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  fly_into_wall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  freeze:
    element: water
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  generic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  generic_kill:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  hot_floor:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  in_fire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  in_wall:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  indirect_magic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  lava:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  lightning_bolt:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  magic:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  #  mace_smash:
  #    element: neutral
  #    defense_penetration: 0.0
  #    defense_penetration_rate: 0.0
  mob_attack:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  mob_attack_no_aggro:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  mob_projectile:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  on_fire:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  out_of_world:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  outside_border:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  player_attack:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  player_explosion:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  sonic_boom:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  spit:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  stalagmite:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  starve:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 1.0
  sting:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  sweet_berry_bush:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  thorns:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  thrown:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  trident:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  unattributed_fireball:
    element: fire
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wind_charge:
    element: wind
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wither:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0
  wither_skull:
    element: neutral
    defense_penetration: 0.0
    defense_penetration_rate: 0.0

# 对原版生物攻击的映射
entity_attack_mappings:
  axolotl:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 3.0
            max: 3.0
            rate: 1.0
            defense_penetration: 0.0
            defense_penetration_rate: 0.0
        critical_strike_metadata:
          chance: 0.0
          positive_power: 1.0
          negative_power: 1.0
          none_power: 1.0
  bee:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  blaze:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          fire:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: small_fireball
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          fire:
            min: 5.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  bogged:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  breeze:
    projectile:
      projectile_type: breeze_wind_charge
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          wind:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
  cat:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  cave_spider:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  creeper:
    self_explode:
      damage_tags: [ ]
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
  dolphin:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
  drowned:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: trident
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 12
            max: 12
        critical_strike_metadata:
          chance: 0.0
  elder_guardian:
    special_type:
      damage_metadata:
        indirect_magic:
          damage_tags: [ ]
          damage_bundle:
            water:
              min: 12.0
              max: 12.0
          critical_strike_metadata:
            chance: 0.0
        thorns:
          damage_tags: [ ]
          damage_bundle:
            water:
              min: 3.0
              max: 3.0
          critical_strike_metadata:
            chance: 0.0
  # 末影龙数据与原版有些不一致
  ender_dragon:
    special_type:
      damage_metadata:
        mob_attack:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 7.0
              max: 15.0
          critical_strike_metadata:
            chance: 0.0
        indirect_magic:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 3.0
              max: 6.0
          critical_strike_metadata:
            chance: 0.0
  enderman:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 10.5
            max: 10.5
        critical_strike_metadata:
          chance: 0.0
  endermite:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  evoker:
    special_type:
      damage_metadata:
        indirect_magic:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 9
              max: 9
          critical_strike_metadata:
            chance: 0.0
  fox:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  frog:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 10.0
            max: 10.0
        critical_strike_metadata:
          chance: 0.0
  ghast:
    projectile_explode:
      projectile_type: fireball
      damage_tags: [ ]
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
    projectile:
      projectile_type: fireball
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          fire:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
  giant:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 75.0
            max: 75.0
        critical_strike_metadata:
          chance: 0.0
  goat:
    melee_age:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
      baby_damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
  guardian:
    special_type:
      damage_metadata:
        indirect_magic:
          damage_tags: [ ]
          damage_bundle:
            water:
              min: 9.0
              max: 9.0
          critical_strike_metadata:
            chance: 0.0
        thorns:
          damage_tags: [ ]
          damage_bundle:
            water:
              min: 3.0
              max: 3.0
          critical_strike_metadata:
            chance: 0.0
  hoglin:
    melee_age:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
      baby_damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 0.75
            max: 0.75
        critical_strike_metadata:
          chance: 0.0
  husk:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
  illusioner:
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  iron_golem:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 11.25
            max: 32.25
        critical_strike_metadata:
          chance: 0.0
  llama:
    projectile:
      projectile_type: llama_spit
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
  magma_cube:
    melee_size:
      damage_metadata:
        1:
          damage_tags: [ ]
          damage_bundle:
            fire:
              min: 4.5
              max: 3.0
          critical_strike_metadata:
            chance: 0.0
        2:
          damage_tags: [ ]
          damage_bundle:
            fire:
              min: 6.0
              max: 6.0
          critical_strike_metadata:
            chance: 0.0
        4:
          damage_tags: [ ]
          damage_bundle:
            fire:
              min: 9.0
              max: 9.0
          critical_strike_metadata:
            chance: 0.0
  ocelot:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  panda:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
  phantom:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  piglin:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 7.5
            max: 7.5
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  piglin_brute:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 19.5
            max: 19.5
        critical_strike_metadata:
          chance: 0.0
  pillager:
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 5.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  polar_bear:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 9.0
            max: 9.0
        critical_strike_metadata:
          chance: 0.0
  pufferfish:
    melee_puff:
      full_damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
      middle_damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  rabbit:
    melee:
      damage_metadata:
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
        damage_tags: [ ]
  # 劫掠兽无法区分普通近战和吼叫
  ravager:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 18.0
            max: 18.0
        critical_strike_metadata:
          chance: 0.0
  shulker:
    projectile:
      projectile_type: shulker_bullet
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
  silverfish:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          earth:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
  skeleton:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  slime:
    melee_size:
      damage_metadata:
        2:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 3.0
              max: 3.0
          critical_strike_metadata:
            chance: 0.0
        4:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 6.0
              max: 6.0
          critical_strike_metadata:
            chance: 0.0
  snow_golem:
    # TODO 3 to blaze
    projectile:
      projectile_type: snowball
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          water:
            min: 0.0
            max: 0.0
        critical_strike_metadata:
          chance: 0.0
  spider:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
  stray:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 3.0
        critical_strike_metadata:
          chance: 0.0
    projectile:
      projectile_type: arrow
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 3.0
            max: 5.0
        critical_strike_metadata:
          chance: 0.0
  trader_llama:
    projectile:
      projectile_type: llama_spit
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 1.5
            max: 1.5
        critical_strike_metadata:
          chance: 0.0
  vex:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 13.5
            max: 13.5
        critical_strike_metadata:
          chance: 0.0
  vindicator:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 19.5
            max: 19.5
        critical_strike_metadata:
          chance: 0.0
  warden:
    special_type:
      damage_metadata:
        mob_attack:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 45.0
              max: 45.0
          critical_strike_metadata:
            chance: 0.0
        sonic_boom:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 15.0
              max: 15.0
          critical_strike_metadata:
            chance: 0.0
  witch:
    special_type:
      damage_metadata:
        indirect_magic:
          damage_tags: [ ]
          damage_bundle:
            neutral:
              min: 6.0
              max: 6.0
          critical_strike_metadata:
            chance: 0.0
  wither:
    projectile_explode:
      projectile_type: wither_skull
      damage_tags: [ ]
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
    projectile:
      projectile_type: wither_skull
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
    self_explode:
      damage_tags: [ ]
      element: fire
      defense_penetration: 0.0
      defense_penetration_rate: 0.0
      critical_strike_metadata:
        chance: 0.0
  wither_skeleton:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
  wolf:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 6.0
            max: 6.0
        critical_strike_metadata:
          chance: 0.0
  zoglin:
    melee_age:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
      baby_damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 0.75
            max: 0.75
        critical_strike_metadata:
          chance: 0.0
  zombie:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0
  zombified_piglin:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 12.0
            max: 12.0
        critical_strike_metadata:
          chance: 0.0
  zombie_villager:
    melee:
      damage_metadata:
        damage_tags: [ ]
        damage_bundle:
          neutral:
            min: 4.5
            max: 4.5
        critical_strike_metadata:
          chance: 0.0

# 默认弹射物伤害映射
# 当弹射物没有来源实体, 或伤害只与类型有关时使用
projectile_type_mappings:
  arrow:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 1.0
        max: 1.0
    critical_strike_metadata:
      chance: 0.0
  trident:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 8.0
        max: 8.0
    critical_strike_metadata:
      chance: 0.0
  egg:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 0.0
        max: 0.0
    critical_strike_metadata:
      chance: 0.0
  ender_pearl:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 0.0
        max: 0.0
    critical_strike_metadata:
      chance: 0.0
  fireball:
    damage_tags: [ ]
    damage_bundle:
      fire:
        min: 6.0
        max: 6.0
    critical_strike_metadata:
      chance: 0.0
  llama_spit:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 1.0
        max: 1.0
    critical_strike_metadata:
      chance: 0.0
  shulker_bullet:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 4.0
        max: 4.0
    critical_strike_metadata:
      chance: 0.0
  small_fireball:
    damage_tags: [ ]
    damage_bundle:
      fire:
        min: 5.0
        max: 5.0
    critical_strike_metadata:
      chance: 0.0
  snowball:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 0.0
        max: 0.0
    critical_strike_metadata:
      chance: 0.0
  wind_charge:
    damage_tags: [ ]
    damage_bundle:
      wind:
        min: 1.0
        max: 1.0
    critical_strike_metadata:
      chance: 0.0
  breeze_wind_charge:
    damage_tags: [ ]
    damage_bundle:
      wind:
        min: 1.0
        max: 1.0
    critical_strike_metadata:
      chance: 0.0
  wither_skull:
    damage_tags: [ ]
    damage_bundle:
      neutral:
        min: 8.0
        max: 8.0
    critical_strike_metadata:
      chance: 0.0

# TODO 潮涌核心

# TODO 水瓶(玩家、发射器)

# TODO 烟花火箭(玩家、村民、发射器)

# TODO 玩家可造成间接魔法伤害, 爆炸伤害

# TODO 玩家喂鹦鹉曲奇, 只会造成1伤害

# TODO 玩家反弹恶魂火球
